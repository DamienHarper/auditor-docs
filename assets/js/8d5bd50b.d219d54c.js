"use strict";(self.webpackChunkauditor_docs=self.webpackChunkauditor_docs||[]).push([[8469],{68314(e,n,i){i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"providers/doctrine/configuration","title":"DoctrineProvider Configuration","description":"All configuration options for the DoctrineProvider","source":"@site/docs/auditor/providers/doctrine/configuration.md","sourceDirName":"providers/doctrine","slug":"/providers/doctrine/configuration","permalink":"/auditor-docs/auditor/providers/doctrine/configuration","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"auditorSidebar","previous":{"title":"DoctrineProvider","permalink":"/auditor-docs/auditor/providers/doctrine/"},"next":{"title":"Schema Management","permalink":"/auditor-docs/auditor/providers/doctrine/schema"}}');var t=i(74848),s=i(28453);const a={},o="DoctrineProvider Configuration",d={},l=[{value:"\u2699\ufe0f Configuration Options",id:"\ufe0f-configuration-options",level:2},{value:"Options Reference",id:"options-reference",level:3},{value:"\ud83d\udcdb Table Naming",id:"-table-naming",level:2},{value:"Examples",id:"examples",level:3},{value:"\ud83d\udeab Ignored Columns",id:"-ignored-columns",level:2},{value:"Global Ignored Columns",id:"global-ignored-columns",level:3},{value:"Per-Entity Ignored Columns",id:"per-entity-ignored-columns",level:3},{value:"\ud83c\udff7\ufe0f Entity Configuration",id:"\ufe0f-entity-configuration",level:2},{value:"Entity Options",id:"entity-options",level:3},{value:"\ud83d\udc41\ufe0f Viewer Configuration",id:"\ufe0f-viewer-configuration",level:2},{value:"\ud83d\udd21 UTF-8 Conversion",id:"-utf-8-conversion",level:2},{value:"\ud83d\uddc4\ufe0f Storage Mapper",id:"\ufe0f-storage-mapper",level:2},{value:"\ud83d\udd04 Runtime Configuration",id:"-runtime-configuration",level:2},{value:"Enable/Disable Auditing for an Entity",id:"enabledisable-auditing-for-an-entity",level:3},{value:"Enable/Disable Viewer",id:"enabledisable-viewer",level:3},{value:"Change Viewer Page Size",id:"change-viewer-page-size",level:3},{value:"Set Storage Mapper",id:"set-storage-mapper",level:3},{value:"\ud83d\udd0d Checking Audit Status",id:"-checking-audit-status",level:2},{value:"\ud83d\udd00 Configuration Merging",id:"-configuration-merging",level:2},{value:"\ud83d\udcc4 Complete Example",id:"-complete-example",level:2},{value:"Next Steps",id:"next-steps",level:2}];function c(e){const n={a:"a",blockquote:"blockquote",code:"code",div:"div",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",path:"path",pre:"pre",strong:"strong",svg:"svg",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"doctrineprovider-configuration",children:"DoctrineProvider Configuration"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"All configuration options for the DoctrineProvider"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"This page covers all configuration options for the DoctrineProvider."}),"\n",(0,t.jsx)(n.h2,{id:"\ufe0f-configuration-options",children:"\u2699\ufe0f Configuration Options"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"<?php\n\nuse DH\\Auditor\\Provider\\Doctrine\\Configuration;\n\n$configuration = new Configuration([\n    'table_prefix' => '',\n    'table_suffix' => '_audit',\n    'ignored_columns' => [],\n    'entities' => [],\n    'viewer' => true,\n    'storage_mapper' => null,\n    'utf8_convert' => false,\n]);\n"})}),"\n",(0,t.jsx)(n.h3,{id:"options-reference",children:"Options Reference"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Option"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Default"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"table_prefix"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"string"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"''"})}),(0,t.jsx)(n.td,{children:"Prefix for audit table names"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"table_suffix"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"string"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"'_audit'"})}),(0,t.jsx)(n.td,{children:"Suffix for audit table names"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"ignored_columns"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"array"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"[]"})}),(0,t.jsx)(n.td,{children:"Columns to ignore globally across all entities"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"entities"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"array"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"[]"})}),(0,t.jsx)(n.td,{children:"Entity-specific configuration"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"viewer"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"bool|array"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"true"})}),(0,t.jsx)(n.td,{children:"Enable/configure the audit viewer"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"storage_mapper"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"callable|null"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"null"})}),(0,t.jsx)(n.td,{children:"Callback to route audits to storage services"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"utf8_convert"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"bool"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"false"})}),(0,t.jsx)(n.td,{children:"Re-encode diff strings to UTF-8 before persisting. Enable only if your data may contain non-UTF-8 strings (legacy encodings)."})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"-table-naming",children:"\ud83d\udcdb Table Naming"}),"\n",(0,t.jsx)(n.p,{children:"Audit tables are named based on the original entity table name with optional prefix and suffix:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"[table_prefix] + [original_table_name] + [table_suffix]\n"})}),"\n",(0,t.jsx)(n.h3,{id:"examples",children:"Examples"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"// Default: users \u2192 users_audit\n$configuration = new Configuration([\n    'table_suffix' => '_audit',\n]);\n\n// Custom prefix: users \u2192 audit_users\n$configuration = new Configuration([\n    'table_prefix' => 'audit_',\n    'table_suffix' => '',\n]);\n\n// Both: users \u2192 audit_users_log\n$configuration = new Configuration([\n    'table_prefix' => 'audit_',\n    'table_suffix' => '_log',\n]);\n"})}),"\n",(0,t.jsx)(n.h2,{id:"-ignored-columns",children:"\ud83d\udeab Ignored Columns"}),"\n",(0,t.jsx)(n.h3,{id:"global-ignored-columns",children:"Global Ignored Columns"}),"\n",(0,t.jsx)(n.p,{children:"Columns that should never be audited across all entities:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"$configuration = new Configuration([\n    'ignored_columns' => [\n        'createdAt',\n        'updatedAt',\n        'deletedAt',  // Useful with soft delete\n    ],\n]);\n"})}),"\n",(0,t.jsx)(n.h3,{id:"per-entity-ignored-columns",children:"Per-Entity Ignored Columns"}),"\n",(0,t.jsx)(n.p,{children:"Override ignored columns for specific entities:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"$configuration = new Configuration([\n    'entities' => [\n        App\\Entity\\User::class => [\n            'ignored_columns' => ['password', 'salt', 'resetToken'],\n        ],\n    ],\n]);\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\ufe0f-entity-configuration",children:"\ud83c\udff7\ufe0f Entity Configuration"}),"\n",(0,t.jsx)(n.p,{children:"Configure entities programmatically instead of (or in addition to) using attributes:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"$configuration = new Configuration([\n    'entities' => [\n        App\\Entity\\User::class => [\n            'enabled' => true,\n            'ignored_columns' => ['password'],\n            'roles' => [\n                'view' => ['ROLE_ADMIN'],  // Who can view these audits\n            ],\n        ],\n        App\\Entity\\Post::class => [\n            'enabled' => true,\n        ],\n        App\\Entity\\Comment::class => [\n            'enabled' => false,  // Disabled, even if has #[Auditable]\n        ],\n    ],\n]);\n"})}),"\n",(0,t.jsx)(n.h3,{id:"entity-options",children:"Entity Options"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Option"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Default"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"enabled"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"bool"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"true"})}),(0,t.jsx)(n.td,{children:"Whether auditing is enabled for this entity"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"ignored_columns"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"array"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"[]"})}),(0,t.jsx)(n.td,{children:"Columns to ignore for this entity"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"roles"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"array"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"null"})}),(0,t.jsxs)(n.td,{children:["View permissions (",(0,t.jsx)(n.code,{children:"['view' => ['ROLE_X']]"}),")"]})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"\ufe0f-viewer-configuration",children:"\ud83d\udc41\ufe0f Viewer Configuration"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"viewer"})," option controls the built-in audit viewer (when using auditor-bundle):"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"// Enable with defaults\n$configuration = new Configuration([\n    'viewer' => true,\n]);\n\n// Disable\n$configuration = new Configuration([\n    'viewer' => false,\n]);\n\n// Custom page size\n$configuration = new Configuration([\n    'viewer' => [\n        'enabled' => true,\n        'page_size' => 25,  // Default is 50\n    ],\n]);\n"})}),"\n",(0,t.jsx)(n.h2,{id:"-utf-8-conversion",children:"\ud83d\udd21 UTF-8 Conversion"}),"\n",(0,t.jsxs)(n.p,{children:["By default, auditor ",(0,t.jsx)(n.strong,{children:"does not"})," re-encode diff values to UTF-8. Since DBAL 4 requires PHP 8.4+ and modern database connections are always UTF-8, this conversion is unnecessary for most applications."]}),"\n",(0,t.jsx)(n.p,{children:"If your application stores data from legacy sources that may contain non-UTF-8 byte sequences, enable this option:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"$configuration = new Configuration([\n    'utf8_convert' => true,\n]);\n"})}),"\n",(0,t.jsxs)(n.div,{className:"markdown-alert markdown-alert-warning",dir:"auto",children:["\n",(0,t.jsxs)(n.p,{className:"markdown-alert-title",dir:"auto",children:[(0,t.jsx)(n.svg,{className:"octicon",viewBox:"0 0 16 16",width:"16",height:"16","aria-hidden":"true",children:(0,t.jsx)(n.path,{d:"M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"})}),"WARNING"]}),"\n",(0,t.jsxs)(n.p,{children:["Enabling ",(0,t.jsx)(n.code,{children:"utf8_convert"})," traverses the entire diff array recursively on every audit entry and may have a noticeable performance impact on entities with large changesets."]}),"\n"]}),"\n",(0,t.jsxs)(n.div,{className:"markdown-alert markdown-alert-note",dir:"auto",children:["\n",(0,t.jsxs)(n.p,{className:"markdown-alert-title",dir:"auto",children:[(0,t.jsx)(n.svg,{className:"octicon",viewBox:"0 0 16 16",width:"16",height:"16","aria-hidden":"true",children:(0,t.jsx)(n.path,{d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"})}),"NOTE"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Upgrading from a version that predates this option?"})," The conversion was previously always applied. If your data relies on this behavior, set ",(0,t.jsx)(n.code,{children:"'utf8_convert' => true"})," to restore it."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"\ufe0f-storage-mapper",children:"\ud83d\uddc4\ufe0f Storage Mapper"}),"\n",(0,t.jsx)(n.p,{children:"When using multiple storage databases, the storage mapper determines where to store audits for each entity."}),"\n",(0,t.jsxs)(n.div,{className:"markdown-alert markdown-alert-note",dir:"auto",children:["\n",(0,t.jsxs)(n.p,{className:"markdown-alert-title",dir:"auto",children:[(0,t.jsx)(n.svg,{className:"octicon",viewBox:"0 0 16 16",width:"16",height:"16","aria-hidden":"true",children:(0,t.jsx)(n.path,{d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"})}),"NOTE"]}),"\n",(0,t.jsxs)(n.p,{children:["See ",(0,t.jsx)(n.a,{href:"/auditor-docs/auditor/providers/doctrine/multi-database",children:"Multi-Database Configuration"})," for detailed information."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"$configuration = new Configuration([\n    'storage_mapper' => function (string $entity, array $storageServices) {\n        // Route User audits to a dedicated storage\n        if ($entity === App\\Entity\\User::class) {\n            return $storageServices['users_audit_storage'];\n        }\n        \n        // Default storage for everything else\n        return $storageServices['default'];\n    },\n]);\n"})}),"\n",(0,t.jsx)(n.h2,{id:"-runtime-configuration",children:"\ud83d\udd04 Runtime Configuration"}),"\n",(0,t.jsx)(n.h3,{id:"enabledisable-auditing-for-an-entity",children:"Enable/Disable Auditing for an Entity"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"// Disable auditing for User\n$configuration->disableAuditFor(App\\Entity\\User::class);\n\n// Re-enable auditing for User\n$configuration->enableAuditFor(App\\Entity\\User::class);\n"})}),"\n",(0,t.jsx)(n.h3,{id:"enabledisable-viewer",children:"Enable/Disable Viewer"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"// Disable the viewer\n$configuration->disableViewer();\n\n// Enable the viewer\n$configuration->enableViewer();\n\n// Check if viewer is enabled\nif ($configuration->isViewerEnabled()) {\n    // ...\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"change-viewer-page-size",children:"Change Viewer Page Size"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"$configuration->setViewerPageSize(100);\n$pageSize = $configuration->getViewerPageSize();\n"})}),"\n",(0,t.jsx)(n.h3,{id:"set-storage-mapper",children:"Set Storage Mapper"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"$configuration->setStorageMapper(function (string $entity, array $services) {\n    // Custom routing logic\n    return $services['default'];\n});\n"})}),"\n",(0,t.jsx)(n.h2,{id:"-checking-audit-status",children:"\ud83d\udd0d Checking Audit Status"}),"\n",(0,t.jsx)(n.p,{children:"The provider offers methods to check entity audit status:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"// Check if an entity class is configured for auditing\n$provider->isAuditable(App\\Entity\\User::class);  // bool\n\n// Check if an entity is currently being audited (respects enabled flag)\n$provider->isAudited(App\\Entity\\User::class);  // bool\n\n// Check if a specific field is being audited\n$provider->isAuditedField(App\\Entity\\User::class, 'email');  // bool\n$provider->isAuditedField(App\\Entity\\User::class, 'password');  // false (if ignored)\n"})}),"\n",(0,t.jsx)(n.h2,{id:"-configuration-merging",children:"\ud83d\udd00 Configuration Merging"}),"\n",(0,t.jsxs)(n.div,{className:"markdown-alert markdown-alert-tip",dir:"auto",children:["\n",(0,t.jsxs)(n.p,{className:"markdown-alert-title",dir:"auto",children:[(0,t.jsx)(n.svg,{className:"octicon",viewBox:"0 0 16 16",width:"16",height:"16","aria-hidden":"true",children:(0,t.jsx)(n.path,{d:"M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z"})}),"TIP"]}),"\n",(0,t.jsx)(n.p,{children:"Configuration from attributes and programmatic config are merged intelligently."}),"\n"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Attributes on entities are loaded first"}),"\n",(0,t.jsx)(n.li,{children:"Programmatic configuration overrides attribute settings"}),"\n",(0,t.jsx)(n.li,{children:"Global ignored columns are combined with entity-specific ones"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"// Given this entity with attributes\n#[Auditable]\n#[Security(view: ['ROLE_USER'])]\nclass User\n{\n    #[Ignore]\n    private string $password;\n}\n\n// And this programmatic config\n$configuration = new Configuration([\n    'ignored_columns' => ['updatedAt'],\n    'entities' => [\n        User::class => [\n            'ignored_columns' => ['salt'],\n            'roles' => ['view' => ['ROLE_ADMIN']],  // Overrides attribute\n        ],\n    ],\n]);\n\n// Final configuration for User:\n// - ignored_columns: ['password', 'salt', 'updatedAt']\n// - roles: ['view' => ['ROLE_ADMIN']]\n"})}),"\n",(0,t.jsx)(n.h2,{id:"-complete-example",children:"\ud83d\udcc4 Complete Example"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"<?php\n\nuse DH\\Auditor\\Provider\\Doctrine\\Configuration;\nuse App\\Entity\\{User, Post, Comment, Order, Payment};\n\n$configuration = new Configuration([\n    'table_prefix' => '',\n    'table_suffix' => '_audit',\n    \n    'ignored_columns' => [\n        'createdAt',\n        'updatedAt',\n    ],\n    \n    'entities' => [\n        User::class => [\n            'enabled' => true,\n            'ignored_columns' => ['password', 'salt', 'resetToken'],\n            'roles' => ['view' => ['ROLE_ADMIN']],\n        ],\n        Post::class => [\n            'enabled' => true,\n        ],\n        Comment::class => [\n            'enabled' => true,\n            'roles' => ['view' => ['ROLE_MODERATOR', 'ROLE_ADMIN']],\n        ],\n        Order::class => [\n            'enabled' => true,\n        ],\n        Payment::class => [\n            'enabled' => true,\n            'roles' => ['view' => ['ROLE_ACCOUNTANT', 'ROLE_ADMIN']],\n        ],\n    ],\n    \n    'viewer' => [\n        'enabled' => true,\n        'page_size' => 50,\n    ],\n\n    'storage_mapper' => null,  // Single database, no mapper needed\n\n    'utf8_convert' => false,   // Set to true only for legacy non-UTF-8 data sources\n]);\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\ud83c\udff7\ufe0f ",(0,t.jsx)(n.a,{href:"/auditor-docs/auditor/providers/doctrine/attributes",children:"Attributes Reference"})]}),"\n",(0,t.jsxs)(n.li,{children:["\ud83d\uddc4\ufe0f ",(0,t.jsx)(n.a,{href:"/auditor-docs/auditor/providers/doctrine/multi-database",children:"Multi-Database Setup"})]}),"\n",(0,t.jsxs)(n.li,{children:["\ud83d\udee0\ufe0f ",(0,t.jsx)(n.a,{href:"/auditor-docs/auditor/providers/doctrine/schema",children:"Schema Management"})]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},28453(e,n,i){i.d(n,{R:()=>a,x:()=>o});var r=i(96540);const t={},s=r.createContext(t);function a(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);