"use strict";(self.webpackChunkauditor_docs=self.webpackChunkauditor_docs||[]).push([[1172],{7721(e,n,i){i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>o,frontMatter:()=>d,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"viewer/index","title":"Audit Viewer","description":"Web interface for browsing audit logs","source":"@site/docs/auditor-bundle/viewer/index.md","sourceDirName":"viewer","slug":"/viewer/","permalink":"/auditor-docs/auditor-bundle/viewer/","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"auditorBundleSidebar","previous":{"title":"Extra Data","permalink":"/auditor-docs/auditor-bundle/customization/extra-data"},"next":{"title":"Contributing","permalink":"/auditor-docs/auditor-bundle/contributing"}}');var r=i(4848),s=i(8453);const d={},a="Audit Viewer",l={},c=[{value:"\u2728 Enabling the Viewer",id:"-enabling-the-viewer",level:2},{value:"\ud83d\udee4\ufe0f Routes",id:"\ufe0f-routes",level:2},{value:"Route Configuration",id:"route-configuration",level:3},{value:"\ud83d\udcc4 Pages",id:"-pages",level:2},{value:"Entity List (<code>/audit</code>)",id:"entity-list-audit",level:3},{value:"Entity Stream (<code>/audit/{entity}</code>)",id:"entity-stream-auditentity",level:3},{value:"\ud83d\udd0d Filters",id:"-filters",level:4},{value:"Transaction View (<code>/audit/transaction/{hash}</code>)",id:"transaction-view-audittransactionhash",level:3},{value:"\ud83d\udcca Activity Graph",id:"-activity-graph",level:2},{value:"Configuration",id:"configuration",level:3},{value:"Layout Options",id:"layout-options",level:3},{value:"Caching",id:"caching",level:3},{value:"Cache with Tags",id:"cache-with-tags",level:4},{value:"\ud83d\uddd1\ufe0f Clear Cache Command",id:"\ufe0f-clear-cache-command",level:3},{value:"Display Behavior",id:"display-behavior",level:3},{value:"\ud83c\udf19 Dark Mode",id:"-dark-mode",level:2},{value:"Behavior",id:"behavior",level:3},{value:"\ud83d\udd12 Access Control",id:"-access-control",level:2},{value:"Via Configuration",id:"via-configuration",level:3},{value:"Via Attributes",id:"via-attributes",level:3},{value:"Via Symfony Security",id:"via-symfony-security",level:3},{value:"\ud83d\udd17 URL Format",id:"-url-format",level:2},{value:"\ud83d\udd27 Generating URLs",id:"-generating-urls",level:2},{value:"\ud83c\udfa8 Customization",id:"-customization",level:2},{value:"Override Templates",id:"override-templates",level:3},{value:"Custom Layout",id:"custom-layout",level:3},{value:"Template Blocks",id:"template-blocks",level:3},{value:"\ud83d\udce6 Assets",id:"-assets",level:2},{value:"\ud83c\udf0d Translations",id:"-translations",level:2},{value:"\ud83d\udeab Disabling the Viewer",id:"-disabling-the-viewer",level:2},{value:"\ud83d\ude80 Next Steps",id:"-next-steps",level:2}];function h(e){const n={a:"a",blockquote:"blockquote",code:"code",div:"div",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",p:"p",path:"path",pre:"pre",strong:"strong",svg:"svg",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"audit-viewer",children:"Audit Viewer"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Web interface for browsing audit logs"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"The bundle includes a web interface for browsing audit logs."}),"\n",(0,r.jsx)(n.h2,{id:"-enabling-the-viewer",children:"\u2728 Enabling the Viewer"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"# config/packages/dh_auditor.yaml\ndh_auditor:\n    providers:\n        doctrine:\n            viewer: true\n"})}),"\n",(0,r.jsx)(n.p,{children:"Or with options:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"dh_auditor:\n    providers:\n        doctrine:\n            viewer:\n                enabled: true\n                page_size: 50\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\ufe0f-routes",children:"\ud83d\udee4\ufe0f Routes"}),"\n",(0,r.jsx)(n.p,{children:"The viewer registers three routes:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Route"}),(0,r.jsx)(n.th,{children:"URL"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"dh_auditor_list_audits"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/audit"})}),(0,r.jsx)(n.td,{children:"List all audited entities"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"dh_auditor_show_entity_stream"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/audit/{entity}/{id?}"})}),(0,r.jsx)(n.td,{children:"Entity audit stream"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"dh_auditor_show_transaction_stream"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/audit/transaction/{hash}"})}),(0,r.jsx)(n.td,{children:"Transaction details"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"route-configuration",children:"Route Configuration"}),"\n",(0,r.jsxs)(n.p,{children:["With Symfony Flex, routes are auto-configured. Otherwise, create ",(0,r.jsx)(n.code,{children:"config/routes/dh_auditor.yaml"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'dh_auditor:\n    resource: "@DHAuditorBundle/Controller/"\n    type: auditor\n'})}),"\n",(0,r.jsx)(n.h2,{id:"-pages",children:"\ud83d\udcc4 Pages"}),"\n",(0,r.jsxs)(n.h3,{id:"entity-list-audit",children:["Entity List (",(0,r.jsx)(n.code,{children:"/audit"}),")"]}),"\n",(0,r.jsx)(n.p,{children:"Displays all audited entities with:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\ud83d\udccb Entity class name"}),"\n",(0,r.jsx)(n.li,{children:"\ud83d\uddc4\ufe0f Audit table name"}),"\n",(0,r.jsx)(n.li,{children:"\ud83d\udd22 Number of audit entries"}),"\n",(0,r.jsx)(n.li,{children:"\ud83d\udd17 Link to view history"}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"entity-stream-auditentity",children:["Entity Stream (",(0,r.jsx)(n.code,{children:"/audit/{entity}"}),")"]}),"\n",(0,r.jsx)(n.p,{children:"Shows audit entries for an entity:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\ud83d\udcc5 Chronological list (newest first)"}),"\n",(0,r.jsx)(n.li,{children:"\ud83c\udff7\ufe0f Operation type (insert/update/remove/associate/dissociate)"}),"\n",(0,r.jsx)(n.li,{children:"\ud83d\udc64 User and timestamp"}),"\n",(0,r.jsx)(n.li,{children:"\ud83d\udcdd Changed properties (diff)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Filter by specific entity ID:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"/audit/App-Entity-User/42\n"})}),"\n",(0,r.jsx)(n.h4,{id:"-filters",children:"\ud83d\udd0d Filters"}),"\n",(0,r.jsx)(n.p,{children:"The entity stream page includes filters to narrow down audit entries:"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Action Type Filter"}),"\nFilter by operation type:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"insert"})," - Record created"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"update"})," - Record updated"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"remove"})," - Record deleted"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"associate"})," - Relation added"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"dissociate"})," - Relation removed"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"User Filter"}),"\nFilter by the user who performed the action:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"All registered users who have made changes"}),"\n",(0,r.jsx)(n.li,{children:"Anonymous (for actions without user attribution)"}),"\n",(0,r.jsxs)(n.li,{children:["CLI commands (each command is tracked by its name, e.g., ",(0,r.jsx)(n.code,{children:"app:import-users"}),")"]}),"\n"]}),"\n",(0,r.jsxs)(n.div,{className:"markdown-alert markdown-alert-tip",dir:"auto",children:["\n",(0,r.jsxs)(n.p,{className:"markdown-alert-title",dir:"auto",children:[(0,r.jsx)(n.svg,{className:"octicon",viewBox:"0 0 16 16",width:"16",height:"16","aria-hidden":"true",children:(0,r.jsx)(n.path,{d:"M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z"})}),"TIP"]}),"\n",(0,r.jsx)(n.p,{children:"Filters can be combined and are preserved during pagination."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"URL parameters:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"/audit/App-Entity-User?type=update&user=42\n/audit/App-Entity-User?type=insert&user=__anonymous__\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"transaction-view-audittransactionhash",children:["Transaction View (",(0,r.jsx)(n.code,{children:"/audit/transaction/{hash}"}),")"]}),"\n",(0,r.jsx)(n.p,{children:"Groups all changes from a single database transaction across all entities."}),"\n",(0,r.jsx)(n.h2,{id:"-activity-graph",children:"\ud83d\udcca Activity Graph"}),"\n",(0,r.jsx)(n.p,{children:"Each entity card displays a visual sparkline graph showing audit activity over time."}),"\n",(0,r.jsx)(n.h3,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"dh_auditor:\n    providers:\n        doctrine:\n            viewer:\n                enabled: true\n                activity_graph:\n                    enabled: true       # Show/hide the graph (default: true)\n                    days: 30            # Number of days to display (default: 30, max: 30)\n                    layout: 'bottom'    # Graph layout: 'bottom' or 'inline' (default: 'bottom')\n                    cache:\n                        enabled: true   # Enable caching (default: true)\n                        pool: 'cache.app'  # Cache pool service ID\n                        ttl: 300        # Cache TTL in seconds (default: 300)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"layout-options",children:"Layout Options"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Layout"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"bottom"})}),(0,r.jsx)(n.td,{children:"Sparkline displayed below the entity info, full width (default)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"inline"})}),(0,r.jsx)(n.td,{children:"Compact sparkline displayed in the header row, next to event count"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"caching",children:"Caching"}),"\n",(0,r.jsx)(n.p,{children:"The activity graph uses caching to improve performance on large audit tables."}),"\n",(0,r.jsxs)(n.div,{className:"markdown-alert markdown-alert-note",dir:"auto",children:["\n",(0,r.jsxs)(n.p,{className:"markdown-alert-title",dir:"auto",children:[(0,r.jsx)(n.svg,{className:"octicon",viewBox:"0 0 16 16",width:"16",height:"16","aria-hidden":"true",children:(0,r.jsx)(n.path,{d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"})}),"NOTE"]}),"\n",(0,r.jsxs)(n.p,{children:["Caching requires ",(0,r.jsx)(n.code,{children:"symfony/cache"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"composer require symfony/cache\n"})}),"\n",(0,r.jsxs)(n.p,{children:["If ",(0,r.jsx)(n.code,{children:"symfony/cache"})," is not installed, the graph will still work but without caching."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"cache-with-tags",children:"Cache with Tags"}),"\n",(0,r.jsxs)(n.p,{children:["If your cache pool supports tags (",(0,r.jsx)(n.code,{children:"TagAwareCacheInterface"}),"), the bundle uses the tag ",(0,r.jsx)(n.code,{children:"dh_auditor.activity"})," for efficient cache invalidation."]}),"\n",(0,r.jsx)(n.h3,{id:"\ufe0f-clear-cache-command",children:"\ud83d\uddd1\ufe0f Clear Cache Command"}),"\n",(0,r.jsx)(n.p,{children:"Clear the activity graph cache manually:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Clear all activity graph cache\nphp bin/console audit:cache:clear\n\n# Clear cache for a specific entity\nphp bin/console audit:cache:clear --entity="App\\Entity\\User"\n'})}),"\n",(0,r.jsxs)(n.div,{className:"markdown-alert markdown-alert-important",dir:"auto",children:["\n",(0,r.jsxs)(n.p,{className:"markdown-alert-title",dir:"auto",children:[(0,r.jsx)(n.svg,{className:"octicon",viewBox:"0 0 16 16",width:"16",height:"16","aria-hidden":"true",children:(0,r.jsx)(n.path,{d:"M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v9.5A1.75 1.75 0 0 1 14.25 13H8.06l-2.573 2.573A1.458 1.458 0 0 1 3 14.543V13H1.75A1.75 1.75 0 0 1 0 11.25Zm1.75-.25a.25.25 0 0 0-.25.25v9.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-9.5a.25.25 0 0 0-.25-.25Zm7 2.25v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 9a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"})}),"IMPORTANT"]}),"\n",(0,r.jsx)(n.p,{children:"Clearing all cache requires a cache pool that supports tags. If your cache pool doesn't support tags, you can only clear cache for specific entities."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"display-behavior",children:"Display Behavior"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"State"}),(0,r.jsx)(n.th,{children:"Behavior"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsxs)(n.td,{children:["Graph disabled (",(0,r.jsx)(n.code,{children:"enabled: false"}),")"]}),(0,r.jsx)(n.td,{children:"Activity graph section is completely hidden"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Graph enabled, no data"}),(0,r.jsx)(n.td,{children:'Placeholder with "No recent activity" message'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Graph enabled, with data"}),(0,r.jsx)(n.td,{children:"Bars are normalized (tallest bar = 100%)"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"-dark-mode",children:"\ud83c\udf19 Dark Mode"}),"\n",(0,r.jsx)(n.p,{children:"The viewer includes a dark/light mode toggle button in the header."}),"\n",(0,r.jsx)(n.h3,{id:"behavior",children:"Behavior"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Default"}),": Follows system preference (",(0,r.jsx)(n.code,{children:"prefers-color-scheme"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Manual toggle"}),": Click the sun/moon icon in the header"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Persistence"}),": User preference is saved in ",(0,r.jsx)(n.code,{children:"localStorage"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"The toggle works without page reload and persists across sessions."}),"\n",(0,r.jsx)(n.h2,{id:"-access-control",children:"\ud83d\udd12 Access Control"}),"\n",(0,r.jsx)(n.h3,{id:"via-configuration",children:"Via Configuration"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"dh_auditor:\n    providers:\n        doctrine:\n            entities:\n                App\\Entity\\User:\n                    roles:\n                        view:\n                            - ROLE_ADMIN\n"})}),"\n",(0,r.jsx)(n.h3,{id:"via-attributes",children:"Via Attributes"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"#[Audit\\Auditable]\n#[Audit\\Security(view: ['ROLE_ADMIN'])]\nclass User {}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"via-symfony-security",children:"Via Symfony Security"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"# config/packages/security.yaml\nsecurity:\n    access_control:\n        - { path: ^/audit, roles: ROLE_ADMIN }\n"})}),"\n",(0,r.jsx)(n.h2,{id:"-url-format",children:"\ud83d\udd17 URL Format"}),"\n",(0,r.jsx)(n.p,{children:"Entity namespaces use dashes instead of backslashes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"App\\Entity\\User \u2192 App-Entity-User\n"})}),"\n",(0,r.jsx)(n.p,{children:"Helper methods:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"use DH\\AuditorBundle\\Helper\\UrlHelper;\n\n// Namespace to URL parameter\n$param = UrlHelper::namespaceToParam('App\\Entity\\User');\n// Returns: 'App-Entity-User'\n\n// URL parameter to namespace\n$namespace = UrlHelper::paramToNamespace('App-Entity-User');\n// Returns: 'App\\Entity\\User'\n"})}),"\n",(0,r.jsx)(n.h2,{id:"-generating-urls",children:"\ud83d\udd27 Generating URLs"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"use Symfony\\Component\\Routing\\Generator\\UrlGeneratorInterface;\n\n// Entity list\n$url = $urlGenerator->generate('dh_auditor_list_audits');\n\n// Entity stream\n$url = $urlGenerator->generate('dh_auditor_show_entity_stream', [\n    'entity' => 'App-Entity-User',\n]);\n\n// Specific entity\n$url = $urlGenerator->generate('dh_auditor_show_entity_stream', [\n    'entity' => 'App-Entity-User',\n    'id' => 42,\n]);\n\n// With filters\n$url = $urlGenerator->generate('dh_auditor_show_entity_stream', [\n    'entity' => 'App-Entity-User',\n    'type' => 'update',\n    'user' => '42',\n]);\n\n// Transaction\n$url = $urlGenerator->generate('dh_auditor_show_transaction_stream', [\n    'hash' => $transactionHash,\n]);\n"})}),"\n",(0,r.jsx)(n.h2,{id:"-customization",children:"\ud83c\udfa8 Customization"}),"\n",(0,r.jsx)(n.h3,{id:"override-templates",children:"Override Templates"}),"\n",(0,r.jsxs)(n.p,{children:["Create files in ",(0,r.jsx)(n.code,{children:"templates/bundles/DHAuditorBundle/"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"templates/bundles/DHAuditorBundle/\n\u251c\u2500\u2500 Audit/\n\u2502   \u251c\u2500\u2500 audits.html.twig              # Entity list\n\u2502   \u251c\u2500\u2500 entity_stream.html.twig       # Entity audit stream\n\u2502   \u251c\u2500\u2500 transaction_stream.html.twig  # Transaction view\n\u2502   \u251c\u2500\u2500 entry.html.twig               # Single entry\n\u2502   \u2514\u2500\u2500 helpers/\n\u2502       \u251c\u2500\u2500 helper.html.twig          # Helper macros\n\u2502       \u2514\u2500\u2500 pager.html.twig           # Pagination\n\u2514\u2500\u2500 layout.html.twig                  # Base layout\n"})}),"\n",(0,r.jsx)(n.h3,{id:"custom-layout",children:"Custom Layout"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-twig",children:'{# templates/bundles/DHAuditorBundle/layout.html.twig #}\n{% extends \'base.html.twig\' %}\n\n{% block stylesheets %}\n    {{ parent() }}\n    <link rel="stylesheet" href="{{ asset(\'bundles/dhauditor/app.css\') }}">\n{% endblock %}\n\n{% block body %}\n    <div class="container">\n        {% block dh_auditor_content %}{% endblock %}\n    </div>\n{% endblock %}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"template-blocks",children:"Template Blocks"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Block"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Available in"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"title"})}),(0,r.jsx)(n.td,{children:"Page title"}),(0,r.jsx)(n.td,{children:"All pages"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"stylesheets"})}),(0,r.jsx)(n.td,{children:"CSS includes"}),(0,r.jsx)(n.td,{children:"All pages"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"dh_auditor_content"})}),(0,r.jsx)(n.td,{children:"Main content area"}),(0,r.jsx)(n.td,{children:"All pages"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"dh_auditor_header"})}),(0,r.jsx)(n.td,{children:"Sub-header with back link & filters"}),(0,r.jsx)(n.td,{children:"Entity stream, Transaction view"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"dh_auditor_pager"})}),(0,r.jsx)(n.td,{children:"Pagination"}),(0,r.jsx)(n.td,{children:"Entity stream"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"javascripts"})}),(0,r.jsx)(n.td,{children:"JavaScript includes"}),(0,r.jsx)(n.td,{children:"All pages"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"-assets",children:"\ud83d\udce6 Assets"}),"\n",(0,r.jsx)(n.p,{children:"Install assets:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"bin/console assets:install\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Assets are installed to ",(0,r.jsx)(n.code,{children:"public/bundles/dhauditor/"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"-translations",children:"\ud83c\udf0d Translations"}),"\n",(0,r.jsx)(n.p,{children:"Available translations:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Language"}),(0,r.jsx)(n.th,{children:"Code"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"English"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"en"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"French"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"fr"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"German"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"de"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Spanish"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"es"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Italian"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"it"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Dutch"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"nl"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Russian"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ru"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Ukrainian"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"uk"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Estonian"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"et"})})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"The viewer uses your application's locale automatically."}),"\n",(0,r.jsx)(n.h2,{id:"-disabling-the-viewer",children:"\ud83d\udeab Disabling the Viewer"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"dh_auditor:\n    providers:\n        doctrine:\n            viewer: false\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Routes are not registered, ",(0,r.jsx)(n.code,{children:"/audit"})," returns 404."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-next-steps",children:"\ud83d\ude80 Next Steps"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\ud83d\udee1\ufe0f ",(0,r.jsx)(n.a,{href:"/auditor-docs/auditor-bundle/customization/role-checker",children:"Role Checker"})," - Access control"]}),"\n",(0,r.jsxs)(n.li,{children:["\u2699\ufe0f ",(0,r.jsx)(n.a,{href:"/auditor-docs/auditor-bundle/configuration/",children:"Configuration"})," - All options"]}),"\n"]})]})}function o(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},8453(e,n,i){i.d(n,{R:()=>d,x:()=>a});var t=i(6540);const r={},s=t.createContext(r);function d(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);