"use strict";(self.webpackChunkauditor_docs=self.webpackChunkauditor_docs||[]).push([[4827],{36690(e,n,s){s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"contributing","title":"Contributing","description":"Thank you for your interest in contributing to auditor!","source":"@site/docs/auditor/contributing.md","sourceDirName":".","slug":"/contributing","permalink":"/auditor-docs/auditor/contributing","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"auditorSidebar","previous":{"title":"Extra Data","permalink":"/auditor-docs/auditor/extra-data"},"next":{"title":"Upgrade Guide","permalink":"/auditor-docs/auditor/upgrade/"}}');var r=s(74848),t=s(28453);const c={},l="Contributing",d={},a=[{value:"\ud83e\udd1d Ways to Contribute",id:"-ways-to-contribute",level:2},{value:"\ud83d\udcbb Code Contributions",id:"-code-contributions",level:2},{value:"\ud83d\ude80 Development Setup",id:"-development-setup",level:3},{value:"\ud83e\uddea Running Tests",id:"-running-tests",level:3},{value:"Quick Tests (Local PHP)",id:"quick-tests-local-php",level:4},{value:"\ud83d\udc33 Testing with Docker (Recommended)",id:"-testing-with-docker-recommended",level:4},{value:"\u26a1 Benchmarking",id:"-benchmarking",level:3},{value:"Composer Scripts (Recommended)",id:"composer-scripts-recommended",level:4},{value:"Running Benchmarks via Docker",id:"running-benchmarks-via-docker",level:4},{value:"Before/After Comparison",id:"beforeafter-comparison",level:4},{value:"Capturing Results for a PR Description",id:"capturing-results-for-a-pr-description",level:4},{value:"Blackfire Profiling (Flame Graphs)",id:"blackfire-profiling-flame-graphs",level:4},{value:"Benchmark Scenarios",id:"benchmark-scenarios",level:4},{value:"\ud83e\uddf9 Code Quality",id:"-code-quality",level:3},{value:"Using Composer (Local)",id:"using-composer-local",level:4},{value:"Using Make (Docker)",id:"using-make-docker",level:4},{value:"\ud83d\udcdd Commit Messages",id:"-commit-messages",level:3},{value:"\ud83d\udd04 Pull Request Process",id:"-pull-request-process",level:3},{value:"\ud83e\udd16 Continuous Integration (CI)",id:"-continuous-integration-ci",level:3},{value:"\u270f\ufe0f Writing Tests",id:"\ufe0f-writing-tests",level:3},{value:"\ud83d\udc1b Reporting Bugs",id:"-reporting-bugs",level:2},{value:"\ud83d\udca1 Feature Requests",id:"-feature-requests",level:2},{value:"\ud83d\udcd6 Documentation Contributions",id:"-documentation-contributions",level:2},{value:"Adding a New Page",id:"adding-a-new-page",level:3},{value:"Style Guide",id:"style-guide",level:3},{value:"\ud83d\udcac Code of Conduct",id:"-code-of-conduct",level:2},{value:"\u2753 Questions?",id:"-questions",level:2},{value:"\ud83d\udcdc License",id:"-license",level:2}];function o(e){const n={a:"a",blockquote:"blockquote",code:"code",div:"div",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",path:"path",pre:"pre",strong:"strong",svg:"svg",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"contributing",children:"Contributing"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Thank you for your interest in contributing to auditor!"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"-ways-to-contribute",children:"\ud83e\udd1d Ways to Contribute"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\ud83d\udc1b ",(0,r.jsx)(n.strong,{children:"Report bugs"})," - Submit issues on GitHub"]}),"\n",(0,r.jsxs)(n.li,{children:["\ud83d\udca1 ",(0,r.jsx)(n.strong,{children:"Suggest features"})," - Open a discussion or issue"]}),"\n",(0,r.jsxs)(n.li,{children:["\ud83d\udcd6 ",(0,r.jsx)(n.strong,{children:"Improve documentation"})," - Fix typos, add examples, clarify explanations"]}),"\n",(0,r.jsxs)(n.li,{children:["\ud83d\udd27 ",(0,r.jsx)(n.strong,{children:"Submit code"})," - Fix bugs or implement new features"]}),"\n",(0,r.jsxs)(n.li,{children:["\u2b50 ",(0,r.jsx)(n.strong,{children:"Star the project"})," - Show your support"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"-code-contributions",children:"\ud83d\udcbb Code Contributions"}),"\n",(0,r.jsxs)(n.p,{children:["All code contributions are made via ",(0,r.jsx)(n.strong,{children:"Pull Requests (PR)"}),". Direct commits to the ",(0,r.jsx)(n.code,{children:"master"})," branch are not allowed."]}),"\n",(0,r.jsx)(n.h3,{id:"-development-setup",children:"\ud83d\ude80 Development Setup"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Fork the repository on GitHub"}),"\n",(0,r.jsx)(n.li,{children:"Clone your fork locally:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/YOUR_USERNAME/auditor.git\ncd auditor\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsx)(n.li,{children:"Install dependencies:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"composer install\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"4",children:["\n",(0,r.jsx)(n.li,{children:"Create a branch for your changes:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"git checkout -b feature/my-new-feature\n"})}),"\n",(0,r.jsx)(n.h3,{id:"-running-tests",children:"\ud83e\uddea Running Tests"}),"\n",(0,r.jsx)(n.h4,{id:"quick-tests-local-php",children:"Quick Tests (Local PHP)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Run all tests\ncomposer test\n\n# Run tests with coverage\ncomposer test:coverage\n\n# Run tests with testdox output\ncomposer testdox\n"})}),"\n",(0,r.jsx)(n.h4,{id:"-testing-with-docker-recommended",children:"\ud83d\udc33 Testing with Docker (Recommended)"}),"\n",(0,r.jsxs)(n.p,{children:["The project includes a ",(0,r.jsx)(n.code,{children:"Makefile"})," that allows you to test against different combinations of PHP versions, Symfony versions, and databases using Docker containers."]}),"\n",(0,r.jsxs)(n.div,{className:"markdown-alert markdown-alert-tip",dir:"auto",children:["\n",(0,r.jsxs)(n.p,{className:"markdown-alert-title",dir:"auto",children:[(0,r.jsx)(n.svg,{className:"octicon",viewBox:"0 0 16 16",width:"16",height:"16","aria-hidden":"true",children:(0,r.jsx)(n.path,{d:"M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z"})}),"TIP"]}),"\n",(0,r.jsx)(n.p,{children:"This ensures your code works across all supported environments before submitting a PR."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Prerequisites:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Docker"}),"\n",(0,r.jsx)(n.li,{children:"Docker Compose"}),"\n",(0,r.jsx)(n.li,{children:"Make"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Available Make Targets:"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Target"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"tests"})}),(0,r.jsx)(n.td,{children:"Run the test suite using PHPUnit"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"cs-fix"})}),(0,r.jsx)(n.td,{children:"Run PHP-CS-Fixer to fix coding standards"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"phpstan"})}),(0,r.jsx)(n.td,{children:"Run PHPStan for static code analysis"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"bench"})}),(0,r.jsx)(n.td,{children:"Run PHPBench benchmarks (statistical, reproducible)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"profile"})}),(0,r.jsxs)(n.td,{children:["Profile with Blackfire (requires ",(0,r.jsx)(n.code,{children:"BLACKFIRE_*"})," env vars)"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"help"})}),(0,r.jsx)(n.td,{children:"Display available commands and options"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Options:"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Option"}),(0,r.jsx)(n.th,{children:"Values"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"php"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"8.4"}),", ",(0,r.jsx)(n.code,{children:"8.5"})]}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"8.4"})}),(0,r.jsx)(n.td,{children:"PHP version"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sf"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"8.0"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"8.0"})}),(0,r.jsx)(n.td,{children:"Symfony version"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"db"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"sqlite"}),", ",(0,r.jsx)(n.code,{children:"mysql"}),", ",(0,r.jsx)(n.code,{children:"pgsql"}),", ",(0,r.jsx)(n.code,{children:"mariadb"})]}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sqlite"})}),(0,r.jsx)(n.td,{children:"Database type"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"args"})}),(0,r.jsx)(n.td,{children:"Any PHPUnit/tool arguments"}),(0,r.jsx)(n.td,{children:"(varies)"}),(0,r.jsx)(n.td,{children:"Additional arguments"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Valid PHP/Symfony Combinations:"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"PHP Version"}),(0,r.jsx)(n.th,{children:"Symfony Versions"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"8.4"}),(0,r.jsx)(n.td,{children:"8.0"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"8.5"}),(0,r.jsx)(n.td,{children:"8.0"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Show all available commands and options\nmake help\n\n# Run tests with defaults (PHP 8.4, Symfony 8.0, SQLite)\nmake tests\n\n# Run tests with specific PHP version\nmake tests php=8.5\n\n# Run tests with MySQL\nmake tests db=mysql\n\n# Run tests with PostgreSQL\nmake tests db=pgsql\n\n# Run tests with MariaDB\nmake tests db=mariadb\n\n# Full specification\nmake tests php=8.4 sf=8.0 db=mysql\n\n# Run specific test class\nmake tests args='--filter=ReaderTest'\n\n# Run tests with coverage\nmake tests args='--coverage-html=coverage'\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Testing the Full Matrix:"})}),"\n",(0,r.jsxs)(n.div,{className:"markdown-alert markdown-alert-important",dir:"auto",children:["\n",(0,r.jsxs)(n.p,{className:"markdown-alert-title",dir:"auto",children:[(0,r.jsx)(n.svg,{className:"octicon",viewBox:"0 0 16 16",width:"16",height:"16","aria-hidden":"true",children:(0,r.jsx)(n.path,{d:"M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v9.5A1.75 1.75 0 0 1 14.25 13H8.06l-2.573 2.573A1.458 1.458 0 0 1 3 14.543V13H1.75A1.75 1.75 0 0 1 0 11.25Zm1.75-.25a.25.25 0 0 0-.25.25v9.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-9.5a.25.25 0 0 0-.25-.25Zm7 2.25v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 9a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"})}),"IMPORTANT"]}),"\n",(0,r.jsx)(n.p,{children:"Before submitting a pull request, it's recommended to test against multiple database types."}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Test all databases with PHP 8.4\nmake tests php=8.4 db=sqlite\nmake tests php=8.4 db=mysql\nmake tests php=8.4 db=pgsql\nmake tests php=8.4 db=mariadb\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"How It Works:"})}),"\n",(0,r.jsxs)(n.p,{children:["The Makefile uses Docker Compose to spin up containers with the specified PHP version and database. The configuration files are located in ",(0,r.jsx)(n.code,{children:"tools/docker/"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"tools/docker/\n\u251c\u2500\u2500 compose.yaml             # Base configuration\n\u251c\u2500\u2500 compose.mysql.yaml       # MySQL service\n\u251c\u2500\u2500 compose.pgsql.yaml       # PostgreSQL service\n\u251c\u2500\u2500 compose.mariadb.yaml     # MariaDB service\n\u251c\u2500\u2500 compose.blackfire.yaml   # Blackfire agent sidecar (profiling)\n\u2514\u2500\u2500 Dockerfile               # PHP CLI image (+ auditor-blackfire stage)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"-benchmarking",children:"\u26a1 Benchmarking"}),"\n",(0,r.jsxs)(n.p,{children:["The project ships with a ",(0,r.jsx)(n.strong,{children:"PHPBench"})," benchmark suite and a ",(0,r.jsx)(n.strong,{children:"Blackfire"})," profiling script to measure the performance impact of changes on the Doctrine flush pipeline (audit entry generation + persistence)."]}),"\n",(0,r.jsxs)(n.p,{children:["Benchmark files live in ",(0,r.jsx)(n.code,{children:"benchmarks/"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"benchmarks/\n\u251c\u2500\u2500 AuditBench.php   # PHPBench suite \u2014 6 statistical scenarios\n\u2514\u2500\u2500 profile.php      # Standalone Blackfire profiling script\n"})}),"\n",(0,r.jsx)(n.h4,{id:"composer-scripts-recommended",children:"Composer Scripts (Recommended)"}),"\n",(0,r.jsxs)(n.p,{children:["The quickest way to run benchmarks locally. All scripts honour the ",(0,r.jsx)(n.code,{children:"BENCH_N"})," environment variable (default: ",(0,r.jsx)(n.code,{children:"50"}),") to control the number of entities per flush."]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Script"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"composer bench"})}),(0,r.jsx)(n.td,{children:"Run all benchmarks (aggregate report)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"composer bench:baseline"})}),(0,r.jsxs)(n.td,{children:["Store a baseline tagged ",(0,r.jsx)(n.code,{children:"before"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"composer bench:compare"})}),(0,r.jsxs)(n.td,{children:["Compare current code against the ",(0,r.jsx)(n.code,{children:"before"})," baseline"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"composer bench:html"})}),(0,r.jsxs)(n.td,{children:["Generate ",(0,r.jsx)(n.code,{children:"benchmark-report.html"})," vs baseline"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"composer profile"})}),(0,r.jsx)(n.td,{children:"Run the Blackfire profiling script (dry run without the CLI)"})]})]})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Simple run\nBENCH_N=1000 composer bench\n\n# Take a baseline (on master)\nBENCH_N=1000 XDEBUG_MODE=off composer bench:baseline\n\n# Compare (on your branch)\nBENCH_N=1000 XDEBUG_MODE=off composer bench:compare\n\n# Generate HTML artifact\nBENCH_N=1000 XDEBUG_MODE=off composer bench:html\n# \u2192 benchmark-report.html\n"})}),"\n",(0,r.jsxs)(n.div,{className:"markdown-alert markdown-alert-tip",dir:"auto",children:["\n",(0,r.jsxs)(n.p,{className:"markdown-alert-title",dir:"auto",children:[(0,r.jsx)(n.svg,{className:"octicon",viewBox:"0 0 16 16",width:"16",height:"16","aria-hidden":"true",children:(0,r.jsx)(n.path,{d:"M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z"})}),"TIP"]}),"\n",(0,r.jsxs)(n.p,{children:["Pass ",(0,r.jsx)(n.code,{children:"XDEBUG_MODE=off"})," to disable the xdebug overhead and get production-representative timings."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Extra PHPBench arguments can be appended after ",(0,r.jsx)(n.code,{children:"--"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Custom tag\nBENCH_N=1000 composer bench -- --tag=my_tag --store\nBENCH_N=1000 composer bench -- --ref=my_tag --progress=plain\n\n# Run a single scenario\nBENCH_N=1000 composer bench -- --filter=benchInsert\n"})}),"\n",(0,r.jsx)(n.h4,{id:"running-benchmarks-via-docker",children:"Running Benchmarks via Docker"}),"\n",(0,r.jsxs)(n.p,{children:["Use ",(0,r.jsx)(n.code,{children:"make bench"})," to run against a specific PHP version inside the same containerised environment used for the test suite. Results are comparable across machines and CI runs."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Run with defaults (N=50, PHP 8.4)\nmake bench\n\n# Run with 1 000 entities, xdebug disabled\nBENCH_N=1000 XDEBUG_MODE=off make bench\n\n# Run on PHP 8.5\nBENCH_N=1000 make bench php=8.5\n\n# Pass extra PHPBench arguments\nmake bench args='--filter=benchInsert'\n"})}),"\n",(0,r.jsx)(n.h4,{id:"beforeafter-comparison",children:"Before/After Comparison"}),"\n",(0,r.jsxs)(n.p,{children:["This workflow quantifies the ",(0,r.jsx)(n.strong,{children:"performance impact"})," of a branch against ",(0,r.jsx)(n.code,{children:"master"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["PHPBench stores runs as XML files in ",(0,r.jsx)(n.code,{children:".phpbench/"})," (gitignored). ",(0,r.jsx)(n.code,{children:"--tag"})," names a stored run; ",(0,r.jsx)(n.code,{children:"--ref"})," replays it alongside the current run. Both branches must use the ",(0,r.jsxs)(n.strong,{children:["same ",(0,r.jsx)(n.code,{children:"BENCH_N"})]})," and the ",(0,r.jsx)(n.strong,{children:"same environment"})," (same PHP version, same xdebug mode) for a valid comparison."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Via Composer (local PHP, recommended):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# 1. On master \u2014 store the baseline\ngit checkout master\nBENCH_N=1000 XDEBUG_MODE=off composer bench:baseline\n\n# 2. On your branch \u2014 compare\ngit checkout my-branch\nBENCH_N=1000 XDEBUG_MODE=off composer bench:compare\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Via Docker (reproducible environment):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"git checkout master\nBENCH_N=1000 XDEBUG_MODE=off make bench php=8.4 args='--tag=before --store'\n\ngit checkout my-branch\nBENCH_N=1000 XDEBUG_MODE=off make bench php=8.4 args='--ref=before --progress=plain'\n"})}),"\n",(0,r.jsxs)(n.p,{children:["With ",(0,r.jsx)(n.code,{children:"--ref=before"}),", each subject line in the progress output shows the inline comparison:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"benchInsert    I5 [Mo850\u03bcs (actual) vs. Mo1.2ms (before)] -29.17% (\xb11.8%)\nbenchUpdate    I5 [Mo9.2ms (actual) vs. Mo12.1ms (before)] -23.97% (\xb12.1%)\n...\n"})}),"\n",(0,r.jsxs)(n.p,{children:["A ",(0,r.jsx)(n.strong,{children:"negative percentage"})," means the current branch is faster. The result is statistically meaningful when ",(0,r.jsx)(n.code,{children:"|gain| > rstdev"}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"capturing-results-for-a-pr-description",children:"Capturing Results for a PR Description"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'BENCH_N=1000 XDEBUG_MODE=off composer bench:compare 2>&1 \\\n    | grep -E "bench[A-Z]" > benchmark-summary.txt\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Paste the content of ",(0,r.jsx)(n.code,{children:"benchmark-summary.txt"})," into the PR body inside a fenced code block."]}),"\n",(0,r.jsx)(n.h4,{id:"blackfire-profiling-flame-graphs",children:"Blackfire Profiling (Flame Graphs)"}),"\n",(0,r.jsx)(n.p,{children:"For deep-dive profiling (call graph, function-level hotspots), use the Blackfire script."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Prerequisites:"})," A ",(0,r.jsx)(n.a,{href:"https://blackfire.io",children:"Blackfire.io"})," account (free tier works). Set the following environment variables:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"export BLACKFIRE_SERVER_ID=<your-server-id>\nexport BLACKFIRE_SERVER_TOKEN=<your-server-token>\nexport BLACKFIRE_CLIENT_ID=<your-client-id>\nexport BLACKFIRE_CLIENT_TOKEN=<your-client-token>\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Dry run (no Blackfire account needed):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"BENCH_N=100 composer profile\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Full Blackfire profile:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# With the Blackfire CLI installed locally\nBENCH_N=100 blackfire run php benchmarks/profile.php\n\n# Via Docker (Blackfire agent sidecar)\nBENCH_N=100 make profile\n"})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"make profile"})," target spins up a Blackfire agent container alongside php-cli using ",(0,r.jsx)(n.code,{children:"compose.blackfire.yaml"}),". The resulting profile URL is printed in the terminal and opens in your Blackfire dashboard."]}),"\n",(0,r.jsx)(n.h4,{id:"benchmark-scenarios",children:"Benchmark Scenarios"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Subject"}),(0,r.jsx)(n.th,{children:"What is measured"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"benchInsert"})}),(0,r.jsxs)(n.td,{children:["N Author inserts \u2192 N audit ",(0,r.jsx)(n.code,{children:"INSERT"})," entries"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"benchUpdate"})}),(0,r.jsxs)(n.td,{children:["N Post updates (title + body + created_at) \u2192 N audit ",(0,r.jsx)(n.code,{children:"UPDATE"})," entries"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"benchRemove"})}),(0,r.jsxs)(n.td,{children:["N Author removals \u2192 N audit ",(0,r.jsx)(n.code,{children:"REMOVE"})," entries"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"benchAssociate"})}),(0,r.jsxs)(n.td,{children:["N Post\u2192Tag ManyToMany links \u2192 N audit ",(0,r.jsx)(n.code,{children:"ASSOCIATE"})," entries"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"benchDissociate"})}),(0,r.jsxs)(n.td,{children:["N Post\u2192Tag ManyToMany unlinks \u2192 N audit ",(0,r.jsx)(n.code,{children:"DISSOCIATE"})," entries"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"benchMixed"})}),(0,r.jsx)(n.td,{children:"Realistic flush: N/2 inserts + N/4 updates (2 fields) + N/4 removes"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["All scenarios use an ",(0,r.jsx)(n.strong,{children:"in-memory SQLite database"})," so results are environment-independent. The ",(0,r.jsx)(n.code,{children:"BENCH_N"})," env var (default ",(0,r.jsx)(n.code,{children:"50"}),") controls the number of entities per flush."]}),"\n",(0,r.jsx)(n.h3,{id:"-code-quality",children:"\ud83e\uddf9 Code Quality"}),"\n",(0,r.jsx)(n.p,{children:"Before submitting, ensure your code passes all quality checks."}),"\n",(0,r.jsx)(n.h4,{id:"using-composer-local",children:"Using Composer (Local)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Run all QA tools\ncomposer qa\n\n# Individual tools:\ncomposer cs-check    # Check code style\ncomposer cs-fix      # Fix code style\ncomposer phpstan     # Static analysis\ncomposer rector      # Automated refactoring suggestions\n"})}),"\n",(0,r.jsx)(n.h4,{id:"using-make-docker",children:"Using Make (Docker)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Run PHP-CS-Fixer\nmake cs-fix\n\n# Run PHPStan\nmake phpstan\n\n# With specific PHP version\nmake phpstan php=8.5\n\n# With custom arguments\nmake phpstan args='analyse src --level=9'\nmake cs-fix args='fix --dry-run'\n"})}),"\n",(0,r.jsx)(n.h3,{id:"-commit-messages",children:"\ud83d\udcdd Commit Messages"}),"\n",(0,r.jsx)(n.p,{children:"Write clear, concise commit messages:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:'Use the present tense ("Add feature" not "Added feature")'}),"\n",(0,r.jsx)(n.li,{children:'Use the imperative mood ("Move cursor to..." not "Moves cursor to...")'}),"\n",(0,r.jsx)(n.li,{children:"Limit the first line to 72 characters"}),"\n",(0,r.jsx)(n.li,{children:"Reference issues and pull requests when relevant"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Good examples:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"Add support for composite primary keys"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"Fix Reader pagination when page_size is null"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"Update documentation for v4 migration"})}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"-pull-request-process",children:"\ud83d\udd04 Pull Request Process"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Ensure all tests pass (ideally on multiple databases)"}),"\n",(0,r.jsxs)(n.li,{children:["Run code quality tools (",(0,r.jsx)(n.code,{children:"make cs-fix"}),", ",(0,r.jsx)(n.code,{children:"make phpstan"}),")"]}),"\n",(0,r.jsx)(n.li,{children:"Update documentation if needed"}),"\n",(0,r.jsx)(n.li,{children:"Add a changelog entry if significant"}),"\n",(0,r.jsx)(n.li,{children:"Submit the pull request"}),"\n",(0,r.jsx)(n.li,{children:"Respond to review feedback"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"-continuous-integration-ci",children:"\ud83e\udd16 Continuous Integration (CI)"}),"\n",(0,r.jsx)(n.p,{children:"When you submit a Pull Request, GitHub Actions will automatically run:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"PHPUnit tests"})," across the full matrix:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"PHP versions: 8.4, 8.5"}),"\n",(0,r.jsx)(n.li,{children:"Symfony versions: 8.0"}),"\n",(0,r.jsx)(n.li,{children:"Databases: SQLite, MySQL, PostgreSQL, MariaDB"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"PHP-CS-Fixer"})," for code style validation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"PHPStan"})," for static analysis"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Code coverage"})," report"]}),"\n"]}),"\n",(0,r.jsxs)(n.div,{className:"markdown-alert markdown-alert-warning",dir:"auto",children:["\n",(0,r.jsxs)(n.p,{className:"markdown-alert-title",dir:"auto",children:[(0,r.jsx)(n.svg,{className:"octicon",viewBox:"0 0 16 16",width:"16",height:"16","aria-hidden":"true",children:(0,r.jsx)(n.path,{d:"M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"})}),"WARNING"]}),"\n",(0,r.jsx)(n.p,{children:"Your PR must pass all CI checks before it can be merged. If a check fails, review the logs to identify and fix the issue."}),"\n"]}),"\n",(0,r.jsxs)(n.div,{className:"markdown-alert markdown-alert-tip",dir:"auto",children:["\n",(0,r.jsxs)(n.p,{className:"markdown-alert-title",dir:"auto",children:[(0,r.jsx)(n.svg,{className:"octicon",viewBox:"0 0 16 16",width:"16",height:"16","aria-hidden":"true",children:(0,r.jsx)(n.path,{d:"M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z"})}),"TIP"]}),"\n",(0,r.jsxs)(n.p,{children:["Run ",(0,r.jsx)(n.code,{children:"make tests db=mysql"})," and ",(0,r.jsx)(n.code,{children:"make tests db=pgsql"})," locally before pushing to catch database-specific issues early."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"\ufe0f-writing-tests",children:"\u270f\ufe0f Writing Tests"}),"\n",(0,r.jsxs)(n.p,{children:["Tests are ",(0,r.jsx)(n.strong,{children:"highly encouraged"})," and often required for new features or bug fixes:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Place tests in the ",(0,r.jsx)(n.code,{children:"tests/"})," directory, mirroring the ",(0,r.jsx)(n.code,{children:"src/"})," structure"]}),"\n",(0,r.jsx)(n.li,{children:"Use meaningful test method names that describe the behavior being tested"}),"\n",(0,r.jsx)(n.li,{children:"Include both positive and negative test cases"}),"\n",(0,r.jsx)(n.li,{children:"Test edge cases and error conditions"}),"\n",(0,r.jsx)(n.li,{children:"For database-related features, ensure tests work with all supported databases"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Test Structure Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"namespace DH\\Auditor\\Tests\\Provider\\Doctrine;\n\nuse PHPUnit\\Framework\\TestCase;\n\nfinal class MyFeatureTest extends TestCase\n{\n    public function testFeatureWorksAsExpected(): void\n    {\n        // Arrange\n        // Act\n        // Assert\n    }\n\n    public function testFeatureThrowsExceptionOnInvalidInput(): void\n    {\n        $this->expectException(\\InvalidArgumentException::class);\n        // ...\n    }\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Running Your Tests:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Run only your new tests\nmake tests args='--filter=MyFeatureTest'\n\n# Run with coverage to ensure good test coverage\ncomposer test:coverage\n"})}),"\n",(0,r.jsx)(n.h2,{id:"-reporting-bugs",children:"\ud83d\udc1b Reporting Bugs"}),"\n",(0,r.jsx)(n.p,{children:"When reporting bugs, please include:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"auditor version"})," - ",(0,r.jsx)(n.code,{children:"composer show damienharper/auditor"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"PHP version"})," - ",(0,r.jsx)(n.code,{children:"php -v"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Symfony version"})," - ",(0,r.jsx)(n.code,{children:"composer show symfony/framework-bundle"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Database"})," - MySQL, PostgreSQL, SQLite, MariaDB, etc."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Steps to reproduce"})," - Minimal code example"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Expected behavior"})," - What should happen"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Actual behavior"})," - What actually happens"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Error messages"})," - Full stack trace if available"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"-feature-requests",children:"\ud83d\udca1 Feature Requests"}),"\n",(0,r.jsx)(n.p,{children:"For feature requests:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Check existing issues to avoid duplicates"}),"\n",(0,r.jsx)(n.li,{children:"Describe the use case"}),"\n",(0,r.jsx)(n.li,{children:"Explain why existing features don't meet your needs"}),"\n",(0,r.jsx)(n.li,{children:"Suggest a possible implementation if you have ideas"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"-documentation-contributions",children:"\ud83d\udcd6 Documentation Contributions"}),"\n",(0,r.jsxs)(n.p,{children:["Documentation lives in the ",(0,r.jsx)(n.code,{children:"docs/"})," directory and uses Markdown."]}),"\n",(0,r.jsx)(n.h3,{id:"adding-a-new-page",children:"Adding a New Page"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Create a new ",(0,r.jsx)(n.code,{children:".md"})," file in the appropriate directory"]}),"\n",(0,r.jsx)(n.li,{children:"Add frontmatter if needed"}),"\n",(0,r.jsxs)(n.li,{children:["Update ",(0,r.jsx)(n.code,{children:"sidebars.js"})," to include the new page"]}),"\n",(0,r.jsx)(n.li,{children:"Add links from related pages"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"style-guide",children:"Style Guide"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Use clear, simple language"}),"\n",(0,r.jsx)(n.li,{children:"Include code examples"}),"\n",(0,r.jsx)(n.li,{children:"Add internal links to related content"}),"\n",(0,r.jsx)(n.li,{children:"Use tables for structured data"}),"\n",(0,r.jsx)(n.li,{children:"Test all code examples"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"-code-of-conduct",children:"\ud83d\udcac Code of Conduct"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Be respectful and inclusive"}),"\n",(0,r.jsx)(n.li,{children:"Welcome newcomers"}),"\n",(0,r.jsx)(n.li,{children:"Provide constructive feedback"}),"\n",(0,r.jsx)(n.li,{children:"Focus on what is best for the community"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"-questions",children:"\u2753 Questions?"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Open a ",(0,r.jsx)(n.a,{href:"https://github.com/DamienHarper/auditor/discussions",children:"GitHub Discussion"})]}),"\n",(0,r.jsx)(n.li,{children:"Check existing issues and discussions first"}),"\n",(0,r.jsx)(n.li,{children:"Be patient - maintainers are volunteers"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"-license",children:"\ud83d\udcdc License"}),"\n",(0,r.jsx)(n.p,{children:"By contributing, you agree that your contributions will be licensed under the MIT License."})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},28453(e,n,s){s.d(n,{R:()=>c,x:()=>l});var i=s(96540);const r={},t=i.createContext(r);function c(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);