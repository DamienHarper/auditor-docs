"use strict";(self.webpackChunkauditor_docs=self.webpackChunkauditor_docs||[]).push([[8076],{35065(n,e,i){i.r(e),i.d(e,{assets:()=>d,contentTitle:()=>o,default:()=>c,frontMatter:()=>s,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"usage/enabling-disabling-at-runtime","title":"Enabling and disabling auditor at runtime","description":"Warning","source":"@site/auditor-bundle_versioned_docs/version-6.x/usage/enabling-disabling-at-runtime.md","sourceDirName":"usage","slug":"/usage/enabling-disabling-at-runtime","permalink":"/auditor-docs/auditor-bundle/6.x/usage/enabling-disabling-at-runtime","draft":false,"unlisted":false,"tags":[],"version":"6.x","frontMatter":{"title":"Enabling and disabling auditor at runtime"},"sidebar":"docs","previous":{"title":"Upgrading","permalink":"/auditor-docs/auditor-bundle/6.x/upgrading"},"next":{"title":"Events","permalink":"/auditor-docs/auditor-bundle/6.x/usage/events"}}');var a=i(74848),r=i(28453);const s={title:"Enabling and disabling auditor at runtime"},o=void 0,d={},l=[{value:"Enabling/Disabling at runtime",id:"enablingdisabling-at-runtime",level:2}];function u(n){const e={br:"br",code:"code",h2:"h2",p:"p",pre:"pre",...(0,r.R)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.p,{children:"Warning\nDisabling audit logging for an entity will make its audit logs incomplete/partial\n(no change applied to specified entity is logged in the relevant audit table while audit logging\nis disabled for that entity)."}),"\n",(0,a.jsx)(e.h2,{id:"enablingdisabling-at-runtime",children:"Enabling/Disabling at runtime"}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.code,{children:"doctrine-provider"})}),"\n",(0,a.jsxs)(e.p,{children:["You can disable audit logging at runtime by calling ",(0,a.jsx)(e.code,{children:"DH\\Auditor\\Provider\\Doctrine\\Configuration::disableAuditFor(string $entity)"}),".",(0,a.jsx)(e.br,{}),"\n","This will prevent the system from logging changes applied to ",(0,a.jsx)(e.code,{children:"$entity"})," objects."]}),"\n",(0,a.jsxs)(e.p,{children:["You can then re-enable audit logging at runtime by calling ",(0,a.jsx)(e.code,{children:"DH\\Auditor\\Provider\\Doctrine\\Configuration::enableAuditFor(string $entity)"}),"."]}),"\n",(0,a.jsxs)(e.p,{children:["To disable auditing for an entity, you first have to inject the ",(0,a.jsx)(e.code,{children:"dh_auditor.provider.doctrine"}),"\nservice in your class, then use:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-php",children:"$provider->getConfiguration()->disableAuditFor(MyEntity1::class);\n"})}),"\n",(0,a.jsx)(e.p,{children:"To enable auditing afterwards, use:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-php",children:"$provider->getConfiguration()->enableAuditFor(MyEntity1::class);\n"})})]})}function c(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(u,{...n})}):u(n)}},28453(n,e,i){i.d(e,{R:()=>s,x:()=>o});var t=i(96540);const a={},r=t.createContext(a);function s(n){const e=t.useContext(r);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:s(n.components),t.createElement(r.Provider,{value:e},n.children)}}}]);